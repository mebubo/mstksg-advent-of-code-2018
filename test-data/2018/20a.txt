^WNE$
>>> 3
^ENWWW(NEEE|SSE(EE|N))$
>>> 10
^ENNWSWW(NEWS|)SSSEEN(WNSE|)EE(SWEN|)NNN$
>>> 18
